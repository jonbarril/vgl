Voodoo Gitless (TEST_VERSION) -- Git for mortals

Concepts and Workflows

Understanding vgl:

  Workspace
    - Files under the repo root (determined by your current directory).
    - Changes live in the workspace until you commit them.

  Local repo
    - The Git repo on your machine, inferred from your current directory.

  Context (switch state)
    - Current local repo directory and branch name.
    - Current remote repo URL and branch name (optional).
    - Use switch to show or set context.

  Diff (sources)
    - diff compares source A and source B.
    - If 0 sources: A is the workspace; B is the local branch (switch state).
    - If 1 source: A is the workspace; B is the specified source.
    - If 2 sources: A and B are as specified.
    - A specified source can be a COMMIT, or local/remote flags (-lr/-lb/-rr/-rb).
    - A flag with no argument defaults to switch state (or 'main' where applicable).
    - Globs filter which files are compared.

  Undecided files
    - Files not yet explicitly tracked, untracked, or ignored.
    - Applies to new and existing files.
    - Once decided, cannot revert to undecided.

  Command guarantees
    - status/diff/log: observe only; never changes workspace files
    - switch: sets context; -lb switches files; -rr/-rb never switch files
    - commit: saves workspace changes to local history only
    - checkout: creates a working copy of a remote repo
    - pull: reviews remote changes before applying; never auto-commits
    - push and checkin: send local commits to a remote
    - split and merge: local history operations only

Typical workflows:

  Working locally:
    - Track files you want under version control.
    - Commit to create history.
    - Use split and merge to experiment on branches.

  Collaborating with a remote:
    - Use checkout to materialize a remote repo.
    - Use switch -rr and -rb to set remote context.
    - Pull to merge remote changes, then commit, then push.

Examples for non-obvious commands:

  switch: changes context, may change workspace
    vgl switch -lb feature          # Switch branch (switches files)
    vgl switch -rr https://... -rb dev  # Set remote (no file switch)
    vgl switch -bb experiment       # Set local+remote branch

  checkout: materializes remote repo
    vgl checkout -rr https://git.example.com/team/repo  # Copy repo
    vgl checkout -rr https://... -rb dev  # Copy branch only

  split: branch and switch
    vgl split -into -lb experiment  # Create from current branch
    vgl split -from -lb main        # Create from 'main' branch

  merge: combine and switch
    vgl merge -from -lb feature  # Merge into current branch
    vgl merge -into -lb main     # Merge into 'main' branch

Get specific help:
  vgl help <command>   Show detailed syntax and notes for one command